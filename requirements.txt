# 코인 예측 Streamlit 앱 — 의존성 (개정 v2.1.3)
# Python: 3.9 또는 3.10+ (Cloud 권장: 3.10/3.11)

# ── 필수 런타임 ───────────────────────────────────────────
pandas>=1.5,<3.0
numpy>=1.22,<3.0
scipy>=1.10,<2.0  # ACF 계산용 (신규 추가)
statsmodels>=0.14,<0.15
requests>=2.31,<3.0
pytz>=2024.1
yfinance>=0.2.64,<0.3

# ── 웹 UI / 시각화 ────────────────────────────────────────
# Streamlit 1.32.0/1.32.1은 Cloud에서 차단됨 → 1.32.2+ 권장
streamlit>=1.32.2,<2.0
plotly>=5.14,<6.0

# ── 머신러닝 / 예측 모델 ──────────────────────────────────
# torch: 환경(CPU/GPU)에 맞는 휠 자동 선택. CPU만 사용할 경우
#        배포 문서에서 --extra-index-url(공식)로 CPU 전용 휠 설치 가능
torch
xgboost
lightgbm
prophet  # PyPI 패키지명: 'prophet'(구 fbprophet 아님)

# ── 선택: TA-Lib 캔들스틱 패턴 분석 ───────────────────────
# 설치 시 61개 고급 캔들스틱 패턴 사용 가능 (미설치 시 기본 3개만 사용)
# ⚠️ TA-Lib은 시스템 라이브러리 선행 설치 필요(Windows/macOS/Linux별 상이)
# (Streamlit Cloud 배포 시 packages.txt에 'ta-lib' 추가 후, 본 라인을 유지)
TA-Lib>=0.4.28  ; python_version >= "3.8"

# ── 참고 ─────────────────────────────────────────────────
# - xgboost / lightgbm / prophet / torch 는 선택 구성(미사용 시 제거 가능)
# - requirements.txt에는 명령어가 아닌 패키지명과 제약만 기입
# - PyTorch GPU 사용 시에는 CUDA/ROCm/Intel GPU 지원 매트릭스에 맞춘 별도 설치 권장